<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/rss+xml">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/css/highlight.css">

  
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary"><meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="wrapper">
    <header id="header">
  <h1 id="title">
    <a href="/">Hexo</a>
  </h1>
  <nav>
    
    
      
      <a class="nav-link" href="/">Home</a>
    
      
        <span class="nav-spacer">×</span>
      
      <a class="nav-link" href="/archives">Archives</a>
    
    
      <span class="nav-spacer">×</span>
      <a class="nav-link" href="/atom.xml">RSS</a>
    
  </nav>
</header>

    <div id="content">
      
  
    <article id="post-flink数据类型" class="article article-type-post" itemprop="blogPost" itemscope>
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h2 class="article-title" itemprop="name">
      <a href="/2022/12/18/flink%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/">flink数据类型</a>
      
    </h2>
  


        <div class="article-meta">
          <time class="article-date" datetime="2022-12-18T08:58:56.000Z" itemprop="datePublished">December 18, 2022, 4:58 PM</time>

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
      
        <h2 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h2><h3 id="1-基础数据类型"><a href="#1-基础数据类型" class="headerlink" title="1. 基础数据类型"></a>1. 基础数据类型</h3><p>Flink 支持所有的 Java 和 Scala 基础数据类型，Int, Double, Long, String, …；</p>
<h3 id="2-Java和Scala元组（Tuple）"><a href="#2-Java和Scala元组（Tuple）" class="headerlink" title="2. Java和Scala元组（Tuple）"></a>2. Java和Scala元组（Tuple）</h3><h3 id="3-Scala样例类（case-classes）"><a href="#3-Scala样例类（case-classes）" class="headerlink" title="3. Scala样例类（case classes）"></a>3. Scala样例类（case classes）</h3><h3 id="4-Java-简单对象-POJOs"><a href="#4-Java-简单对象-POJOs" class="headerlink" title="4. Java 简单对象(POJOs)"></a>4. Java 简单对象(POJOs)</h3><h3 id="5-其他"><a href="#5-其他" class="headerlink" title="5. 其他"></a>5. 其他</h3><p>Arrays, Lists, Maps, Enums, 等等；</p>
<h2 id="实现-UDF-函数——更细粒度的控制流"><a href="#实现-UDF-函数——更细粒度的控制流" class="headerlink" title="实现 UDF 函数——更细粒度的控制流"></a>实现 UDF 函数——更细粒度的控制流</h2><h3 id="1-函数类-Function-Classes"><a href="#1-函数类-Function-Classes" class="headerlink" title="1. 函数类(Function Classes)"></a>1. 函数类(Function Classes)</h3><h3 id="2-匿名函数-Lambda-Functions"><a href="#2-匿名函数-Lambda-Functions" class="headerlink" title="2. 匿名函数(Lambda Functions)"></a>2. 匿名函数(Lambda Functions)</h3><h3 id="3-富函数-Rich-Functions"><a href="#3-富函数-Rich-Functions" class="headerlink" title="3. 富函数(Rich Functions)"></a>3. 富函数(Rich Functions)</h3><p>富函数是DataStream API提供的一个函数类的接口，所有Flink函数类都有其Rich版本。它与常规函数的不同就在于，可以获取运行环境的上下文，并拥有一些生命周期的方法，所以可以实现更复杂的功能；</p>

      
    </div>
    
    
    
  </div>
</article>



  
    <article id="post-Transform" class="article article-type-post" itemprop="blogPost" itemscope>
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h2 class="article-title" itemprop="name">
      <a href="/2022/12/18/Transform/">Transform</a>
      
    </h2>
  


        <div class="article-meta">
          <time class="article-date" datetime="2022-12-18T06:46:59.000Z" itemprop="datePublished">December 18, 2022, 2:46 PM</time>

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
      
        <h3 id="Reduce"><a href="#Reduce" class="headerlink" title="Reduce"></a>Reduce</h3><p>一个分组数据留的聚合操作，合并当前元素的和上一次聚合的结果，产生一个新的值。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//keyStream-&gt;DataStream</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="Split和Select"><a href="#Split和Select" class="headerlink" title="Split和Select"></a>Split和Select</h3><p>按照某种特征把DataSream拆分成两个或者多个DataStream。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//DataStream-&gt;SlpitStream</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="Connect-amp-CoMap"><a href="#Connect-amp-CoMap" class="headerlink" title="Connect&amp;CoMap"></a>Connect&amp;CoMap</h3><p>DataStream → ConnectedStreams,连接两个保持他们类型的数据流，两个数据流被Connect之后，只是被放在了一个同一个流中，内部亦然保持各自的数据和形式不变化，两个流相互独立；</p>
<p>ConnectedStreams → DataStream，作用于ConnectedStream，功能与 map 和 flatMap 一样，对 ConnectedStreams 中的每一个 Stream 分别进行 map 和 flatMap 处理。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br></pre></td></tr></table></figure>

<h3 id="Union"><a href="#Union" class="headerlink" title="Union"></a>Union</h3><p>DataStream → DataStream: 对两个或者两个以上的DataStream进行union操</p>
<p>作，产生一个包含所有 DataStream 元素的新 DataStream。</p>

      
    </div>
    
    
    
  </div>
</article>



  
    <article id="post-flink流处理API" class="article article-type-post" itemprop="blogPost" itemscope>
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h2 class="article-title" itemprop="name">
      <a href="/2022/12/14/flink%E6%B5%81%E5%A4%84%E7%90%86API/">flink流处理API</a>
      
    </h2>
  


        <div class="article-meta">
          <time class="article-date" datetime="2022-12-14T13:14:09.000Z" itemprop="datePublished">December 14, 2022, 9:14 PM</time>

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
      
        <h2 id="Flink流处理API流程"><a href="#Flink流处理API流程" class="headerlink" title="Flink流处理API流程"></a>Flink流处理API流程</h2><p><img src="/Users/xiaomeichen/Library/Application%20Support/marktext/images/2022-12-14-21-14-39-image.png"></p>
<h3 id="Environment"><a href="#Environment" class="headerlink" title="Environment"></a>Environment</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建一个执行环境，表示当前执行环境的上下文</span></span><br><span class="line"><span class="type">ExecutionEnvironment</span> <span class="variable">env</span> <span class="operator">=</span> ExecutionEnvironment.getExecutionEnvironment();</span><br><span class="line"></span><br><span class="line"><span class="type">StreamExecutionEnvironment</span> <span class="variable">env</span> <span class="operator">=</span> StreamExecutionEnvironment.getExecutionEnvironment();</span><br></pre></td></tr></table></figure>

<h4 id="并行度设置"><a href="#并行度设置" class="headerlink" title="并行度设置"></a>并行度设置</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">//flink-conf.yaml中设置</span></span><br><span class="line"><span class="attr">parellesim.default:</span> <span class="number">1</span></span><br></pre></td></tr></table></figure>

<h4 id="createLocalEnvironment"><a href="#createLocalEnvironment" class="headerlink" title="createLocalEnvironment"></a>createLocalEnvironment</h4><p>返回本地执行环境，需要在调用时指定默认的并行度。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="type">LocalStreamEnvironment</span> <span class="variable">env</span> <span class="operator">=</span> StreamExecutionEnvironment.createLocalEnvironment(<span class="number">1</span>);</span><br></pre></td></tr></table></figure>

<h4 id="createRemoteEnvironment"><a href="#createRemoteEnvironment" class="headerlink" title="createRemoteEnvironment"></a>createRemoteEnvironment</h4><p>返回集群执行环境，将 Jar 提交到远程服务器。需要在调用时指定 JobManager 的 IP 和端口号，并指定要在集群中运行的 Jar 包。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">StreamExecutionEnvironment</span> <span class="variable">env</span> <span class="operator">=</span>StreamExecutionEnvironment.createRemoteEnvironment(</span><br><span class="line"><span class="string">&quot;jobmanage-hostname&quot;</span>, <span class="number">6123</span>,<span class="string">&quot;YOURPATH//WordCount.jar&quot;</span>);</span><br></pre></td></tr></table></figure>

<h2 id="Source"><a href="#Source" class="headerlink" title="Source"></a>Source</h2><h3 id="从集合读取数据"><a href="#从集合读取数据" class="headerlink" title="从集合读取数据"></a>从集合读取数据</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SourceTest1_Collection</span> &#123;<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception&#123;<span class="type">StreamExecutionEnvironment</span> <span class="variable">env</span> <span class="operator">=</span>StreamExecutionEnvironment.getExecutionEnvironment();<span class="comment">// 1.Source:从集合读取数据</span>DataStream&lt;SensorReading&gt; sensorDataStream = env.fromCollection(Arrays.asList(<span class="keyword">new</span> <span class="title class_">SensorReading</span>(<span class="string">&quot;sensor_1&quot;</span>, <span class="number">1547718199L</span>, <span class="number">35.8</span>),<span class="keyword">new</span> <span class="title class_">SensorReading</span>(<span class="string">&quot;sensor_6&quot;</span>, <span class="number">1547718201L</span>, <span class="number">15.4</span>),<span class="keyword">new</span> <span class="title class_">SensorReading</span>(<span class="string">&quot;sensor_7&quot;</span>, <span class="number">1547718202L</span>, <span class="number">6.7</span>),<span class="keyword">new</span> <span class="title class_">SensorReading</span>(<span class="string">&quot;sensor_10&quot;</span>, <span class="number">1547718205L</span>, <span class="number">38.1</span>)));<span class="comment">// 2.打印</span>sensorDataStream.print();<span class="comment">// 3.执行</span>env.execute();&#125;&#125;</span><br></pre></td></tr></table></figure>

<h3 id="从文件读取数据"><a href="#从文件读取数据" class="headerlink" title="从文件读取数据"></a>从文件读取数据</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DataStream&lt;String&gt; dataStream = env.readTextFile(<span class="string">&quot;YOUR_FILE_PATH &quot;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="以-kafka-消息队列的数据作为来源"><a href="#以-kafka-消息队列的数据作为来源" class="headerlink" title="以 kafka 消息队列的数据作为来源"></a>以 kafka 消息队列的数据作为来源</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

      
    </div>
    
    
    
  </div>
</article>



  
    <article id="post-Flink运行架构" class="article article-type-post" itemprop="blogPost" itemscope>
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h2 class="article-title" itemprop="name">
      <a href="/2022/12/13/Flink%E8%BF%90%E8%A1%8C%E6%9E%B6%E6%9E%84/">Flink运行架构</a>
      
    </h2>
  


        <div class="article-meta">
          <time class="article-date" datetime="2022-12-12T16:20:43.000Z" itemprop="datePublished">December 13, 2022, 12:20 AM</time>

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
      
        <h3 id="Flink运行时的组件"><a href="#Flink运行时的组件" class="headerlink" title="Flink运行时的组件"></a>Flink运行时的组件</h3><ol>
<li><p>作业管理器（JobManager）</p>
</li>
<li><p>任务管理器（TaskManager）</p>
</li>
<li><p>资源管理器（ResourceManager）</p>
</li>
<li><p>分发器（Dispatcher）</p>
</li>
</ol>
<h2 id="任务提交流程"><a href="#任务提交流程" class="headerlink" title="任务提交流程"></a>任务提交流程</h2><p><img src="/Users/xiaomeichen/Library/Application%20Support/marktext/images/2022-12-13-20-31-40-image.png"></p>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3>
      
    </div>
    
    
    
  </div>
</article>



  
    <article id="post-flink-Yarn" class="article article-type-post" itemprop="blogPost" itemscope>
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h2 class="article-title" itemprop="name">
      <a href="/2022/12/12/flink-Yarn/">flink-Yarn</a>
      
    </h2>
  


        <div class="article-meta">
          <time class="article-date" datetime="2022-12-12T15:43:53.000Z" itemprop="datePublished">December 12, 2022, 11:43 PM</time>

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
      
        <h2 id="Flink-on-Yarn"><a href="#Flink-on-Yarn" class="headerlink" title="Flink on Yarn"></a>Flink on Yarn</h2><ul>
<li>要求Flink是有Hadoop支持的版本，Hadoop环境需要2.2以上；</li>
</ul>
<h3 id="Session-cluster模式"><a href="#Session-cluster模式" class="headerlink" title="Session-cluster模式"></a>Session-cluster模式</h3><ul>
<li><p>先启动集群，yarn会申请一块空间后，资源保持不变，如果资源满了，下一个作业酒无法提交，只能等到yarn中的其中一个作业执行完成后，释放了资源，下一个作业才会正常提交；</p>
</li>
<li><p>所有作业共享Dispacher和ResourceManager：共享资源；</p>
</li>
<li><p>适合规模小执行时间短的作业；</p>
</li>
</ul>
<h3 id="Per-Job-Cluster模式"><a href="#Per-Job-Cluster模式" class="headerlink" title="Per-Job-Cluster模式"></a>Per-Job-Cluster模式</h3><ul>
<li><p>一个Job对应一个集群，没提交一个作业会根据自身情况都会单独向yarn申请资源，直到作业完成，一个作业的成功与否并不会影响到下一个作业的提交和运行；</p>
</li>
<li><p>独享Dispacher和ResourceManager，按需申请资源；</p>
</li>
<li><p>适合大规模长时间运行的作业；</p>
</li>
</ul>
<h2 id="Kubernetes部署"><a href="#Kubernetes部署" class="headerlink" title="Kubernetes部署"></a>Kubernetes部署</h2><ul>
<li><p>在K8s上构建Flink Session Cluster，需要将集群的组件对应的docker镜像分别在k8s上启动，包括JobManager、TaskManager、JobManagerServer三个镜像服务；</p>
</li>
<li><p>启动Flink Session Cluster</p>
</li>
<li><p>访问FlinkUI页面</p>
</li>
</ul>

      
    </div>
    
    
    
  </div>
</article>



  
    <article id="post-flink-standalone" class="article article-type-post" itemprop="blogPost" itemscope>
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h2 class="article-title" itemprop="name">
      <a href="/2022/12/12/flink-standalone/">flink-standalone</a>
      
    </h2>
  


        <div class="article-meta">
          <time class="article-date" datetime="2022-12-12T15:42:46.000Z" itemprop="datePublished">December 12, 2022, 11:42 PM</time>

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
      
        <h2 id="StandAlone"><a href="#StandAlone" class="headerlink" title="StandAlone"></a>StandAlone</h2><p>单机模式，没有集群模式</p>

      
    </div>
    
    
    
  </div>
</article>



  
    <article id="post-git" class="article article-type-post" itemprop="blogPost" itemscope>
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h2 class="article-title" itemprop="name">
      <a href="/2022/12/11/git/">如何本地代码上传github</a>
      
    </h2>
  


        <div class="article-meta">
          <time class="article-date" datetime="2022-12-11T15:58:24.000Z" itemprop="datePublished">December 11, 2022, 11:58 PM</time>

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
      
        <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

      
    </div>
    
    
    
  </div>
</article>



  
    <article id="post-flink-WordCount" class="article article-type-post" itemprop="blogPost" itemscope>
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h2 class="article-title" itemprop="name">
      <a href="/2022/12/11/flink-WordCount/">flink-WordCount</a>
      
    </h2>
  


        <div class="article-meta">
          <time class="article-date" datetime="2022-12-11T14:22:36.000Z" itemprop="datePublished">December 11, 2022, 10:22 PM</time>

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
      
        <h2 id="java实现flink简单上手项目"><a href="#java实现flink简单上手项目" class="headerlink" title="java实现flink简单上手项目"></a>java实现flink简单上手项目</h2><h3 id="批处理任务"><a href="#批处理任务" class="headerlink" title="批处理任务"></a>批处理任务</h3><h3 id="流处理任务"><a href="#流处理任务" class="headerlink" title="流处理任务"></a>流处理任务</h3>
      
    </div>
    
    
    
  </div>
</article>



  
    <article id="post-flink" class="article article-type-post" itemprop="blogPost" itemscope>
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h2 class="article-title" itemprop="name">
      <a href="/2022/12/10/flink/">flink</a>
      
    </h2>
  


        <div class="article-meta">
          <time class="article-date" datetime="2022-12-10T09:47:00.000Z" itemprop="datePublished">December 10, 2022, 5:47 PM</time>

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
      
        <h2 id="flink本地部署单节点"><a href="#flink本地部署单节点" class="headerlink" title="flink本地部署单节点"></a>flink本地部署单节点</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$</span></span><br></pre></td></tr></table></figure>



<h2 id="flink特点"><a href="#flink特点" class="headerlink" title="flink特点"></a>flink特点</h2><ul>
<li><p>处理有界数据和无界数据</p>
</li>
<li><p>低延迟</p>
</li>
<li><p>高吞吐</p>
</li>
<li><p>结果的准确性和良好的容错性</p>
</li>
</ul>
<h2 id="使用flink行业"><a href="#使用flink行业" class="headerlink" title="使用flink行业"></a>使用flink行业</h2><ul>
<li><p>电商和市场营销</p>
<p>数据报表、广告投放、业务流程需要；</p>
</li>
<li><p>物联网</p>
<p>传感器实时数据采集和显示、实时报警、交通运输业；</p>
</li>
<li><p>电信业</p>
<p>基站流量调配；</p>
</li>
<li><p>银行和金融业</p>
<p>实时结算和通知推送，实时检测异常行为；</p>
</li>
</ul>
<h2 id="传统数据处理架构"><a href="#传统数据处理架构" class="headerlink" title="传统数据处理架构"></a>传统数据处理架构</h2><p><img src="/Users/xiaomeichen/Library/Application%20Support/marktext/images/2022-12-10-18-28-37-image.png"></p>
<h2 id="有状态的流式处理"><a href="#有状态的流式处理" class="headerlink" title="有状态的流式处理"></a>有状态的流式处理</h2><p><img src="/Users/xiaomeichen/Library/Application%20Support/marktext/images/2022-12-10-18-32-24-image.png"></p>
<h2 id="流处理的演变"><a href="#流处理的演变" class="headerlink" title="流处理的演变"></a>流处理的演变</h2><ul>
<li><p>lambda演变（流批一体）</p>
<ol>
<li><p>用两套系统，同事保持低延迟和结果准确</p>
</li>
<li><p>保存着流处理和批处理的架构</p>
</li>
<li><p>先攒一批再处理</p>
</li>
<li><p>痛处：维护不同的系统时当架构发生变化，维护、开发成本变大，因为需要同时改变两套框架的处理方式，如：API用法；</p>
</li>
</ol>
<p><img src="/Users/xiaomeichen/Library/Application%20Support/marktext/images/2022-12-10-18-44-37-image.png"></p>
</li>
</ul>
<h2 id="Flink的主要特点"><a href="#Flink的主要特点" class="headerlink" title="Flink的主要特点"></a>Flink的主要特点</h2><p><img src="/Users/xiaomeichen/Library/Application%20Support/marktext/images/2022-12-11-13-01-20-image.png"></p>
<h2 id="分层API"><a href="#分层API" class="headerlink" title="分层API"></a>分层API</h2><ul>
<li><p>越顶层越抽象，表达含义越简明，使用越方便</p>
</li>
<li><p>越底层越具体，表达能力越丰富，使用越灵活</p>
</li>
</ul>
<p><img src="/Users/xiaomeichen/Library/Application%20Support/marktext/images/2022-12-11-13-06-30-image.png"></p>
<h2 id="Flink其他特点"><a href="#Flink其他特点" class="headerlink" title="Flink其他特点"></a>Flink其他特点</h2><ul>
<li><p>支持时间时间和处理时间语义；</p>
</li>
<li><p>精确一次的状态一致性保证；</p>
</li>
<li><p>低延迟，每秒处理数百万个事件，毫秒级延迟；</p>
</li>
<li><p>与众多常用存储系统的连接；</p>
</li>
<li><p>高可用，动态扩展，实现7*24小时全天候运行；</p>
</li>
</ul>
<p>Flink vs Spark Stearming</p>
<ul>
<li><p>流和微批</p>
<ul>
<li><p>spark的微批把攒批的时间定的很小，达到秒级处理，但是结构还是批处理；</p>
</li>
<li><p>Flink就是流数据处理的架构过程；</p>
</li>
</ul>
</li>
<li><p>数据模型</p>
<ul>
<li><p>Spark采用RDD模型，spark streaming的DStrean实际上也就是一组组小批数据RDD的集合；</p>
</li>
<li><p>Flink基本数据模型是数据流，以及事件序列；</p>
</li>
</ul>
</li>
<li><p>运行时架构</p>
<ul>
<li><p>spark是批计算，将DAG划分为不同的stage，一个完成后才可以计算下一个；</p>
</li>
<li><p>flink是标砖的流执行模式，一个事件在一个节点处理完成后可以直接发往下一个节点进行处理；</p>
</li>
</ul>
</li>
</ul>

      
    </div>
    
    
    
  </div>
</article>



  
    <article id="post-Load-Balance" class="article article-type-post" itemprop="blogPost" itemscope>
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h2 class="article-title" itemprop="name">
      <a href="/2022/12/04/Load-Balance/">Load Balance</a>
      
    </h2>
  


        <div class="article-meta">
          <time class="article-date" datetime="2022-12-03T17:00:34.000Z" itemprop="datePublished">December 4, 2022, 1:00 AM</time>

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
      
        <h3 id="什么是负载均衡"><a href="#什么是负载均衡" class="headerlink" title="什么是负载均衡"></a>什么是负载均衡</h3><p>负载均衡就是一种机制，一个算法，用于解决分担一个机器无法完成而分到等多个机器上一起解决的问题。</p>
<h3 id="flume和负载均衡的产生背景"><a href="#flume和负载均衡的产生背景" class="headerlink" title="flume和负载均衡的产生背景"></a>flume和负载均衡的产生背景</h3><p>从数据源到中间多台flume再到数据存储的过程中，当两个以上flume串联的使用时，会因为两个flume机器能力不一样而产生问题。比如一个机器每秒处理100个event而一个机器每秒处理10个event，这两配合一起工作时间长了，会形成数据堵塞的问题。</p>
<p>一个agent解决不了的问题，可以多个agent解决问题，这就是flume中遇到的负载均衡的产生背景；</p>
<h3 id="flume负载均衡算法"><a href="#flume负载均衡算法" class="headerlink" title="flume负载均衡算法"></a>flume负载均衡算法</h3>
      
    </div>
    
    
    
  </div>
</article>



  


  <nav id="page-nav" class="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next »</a>
  </nav>



    </div>
  </div>
  




<div id="settings-container">
  <div id="dark-mode">dark</div>
  <div id="sans-font">sans</div>
</div>
<script type="text/javascript">
let d=document,r=d.documentElement.style,f=r.setProperty.bind(r),l=localStorage,s=l.getItem('s')||(window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches),n=l.getItem('n'),m=d.getElementById("dark-mode"),b=()=>{f('--bg-color','#fafafa');f('--code-bg-color','#f4f4f4');f('--text-color','#212121');f('--secondary-color','#808080');f('--tertiary-color','#b0b0b0');f('--link-color','#b5c8cf');f('--link-hover-color','#618794');f('--link-bg-color','#dae4e7');f('--selection-color','#dae4e7');m.innerHTML="dark"},c=()=>{f('--bg-color','#212121');f('--code-bg-color','#292929');f('--text-color','#fff');f('--secondary-color','#c0c0c0');f('--tertiary-color','#6e6e6e');f('--link-color','#4d6b75');f('--link-hover-color','#96b1bb');f('--link-bg-color','#5d828e');f('--selection-color','#acc1c9');m.innerHTML="light"},o=d.getElementById("sans-font"),e=()=>{f('--body-stack','"Lora", "Georgia", "Times New Roman", serif');o.innerHTML="sans"},g=()=>{f('--body-stack','"Lato", "Lucida Grande", "Lucida Sans Unicode", "Lucida Sans", "Verdana", sans-serif');o.innerHTML="serif"};m.onclick=()=>{if(s==2){s=1;l.setItem('s',s);c()}else{s=2;l.setItem('s',s);b()}};o.onclick=()=>{if(n==2){n=1;l.setItem('n',n);g()}else{n=2;l.setItem('n',n);e()}};if(!s){s=2;l.setItem('s',2)};if(s==1){c()};if(!n){n=2;l.setItem('n',2)};if(n==1){g()};
</script>




</body>
</html>
